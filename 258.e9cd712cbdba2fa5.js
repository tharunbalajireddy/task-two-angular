"use strict";(self.webpackChunktask_two_angular=self.webpackChunktask_two_angular||[]).push([[258],{1258:(Ts,je,f)=>{f.r(je),f.d(je,{WeatherModule:()=>Ns});var b=f(177),s=f(7705),H=f(7673),We=f(2806),Xe=f(1985),Sn=f(274),xn=f(5964),V=f(6354),$e=f(980),Pn=f(5558);class z{}class K{}class w{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),a=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(a):this.headers.set(i,[a])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof w?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new w;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof w?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let a=this.headers.get(e);if(!a)return;a=a.filter(c=>-1===i.indexOf(c)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const r=(Array.isArray(e)?e:[e]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class Nn{encodeKey(n){return Je(n)}encodeValue(n){return Je(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Rn=/%(\d[a-f0-9])/gi,kn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Je(t){return encodeURIComponent(t).replace(Rn,(n,e)=>kn[e]??n)}function Q(t){return`${t}`}class E{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Nn,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Tn(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[a,c]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],l=e.get(a)||[];l.push(c),e.set(a,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(Q):[Q(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new E({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Q(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(Q(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class In{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function qe(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ze(t){return typeof Blob<"u"&&t instanceof Blob}function Ke(t){return typeof FormData<"u"&&t instanceof FormData}class G{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function Un(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new w),this.context||(this.context=new In),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+a}}else this.params=new E,this.urlWithParams=e}serializeBody(){return null===this.body?null:qe(this.body)||ze(this.body)||Ke(this.body)||function Bn(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof E?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:ze(this.body)?this.body.type||null:qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof E?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,d=n.params||this.params;const m=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((g,y)=>g.set(y,n.setHeaders[y]),l)),n.setParams&&(d=Object.keys(n.setParams).reduce((g,y)=>g.set(y,n.setParams[y]),d)),new G(e,r,i,{params:d,headers:l,context:m,reportProgress:c,responseType:o,withCredentials:a})}}var I=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(I||{});class de{constructor(n,e=200,r="OK"){this.headers=n.headers||new w,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class he extends de{constructor(n={}){super(n),this.type=I.ResponseHeader}clone(n={}){return new he({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class U extends de{constructor(n={}){super(n),this.type=I.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new U({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Qe extends de{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function fe(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ye=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof G)i=e;else{let l,d;l=o.headers instanceof w?o.headers:new w(o.headers),o.params&&(d=o.params instanceof E?o.params:new E({fromObject:o.params})),i=new G(e,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const a=(0,H.of)(i).pipe((0,Sn.H)(l=>this.handler.handle(l)));if(e instanceof G||"events"===o.observe)return a;const c=a.pipe((0,xn.p)(l=>l instanceof U));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return c.pipe((0,V.T)(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe((0,V.T)(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe((0,V.T)(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe((0,V.T)(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new E).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,fe(o,r))}post(e,r,o={}){return this.request("POST",e,fe(o,r))}put(e,r,o={}){return this.request("PUT",e,fe(o,r))}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(z))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac})}}return t})();function tt(t,n){return n(t)}function Hn(t,n){return(e,r)=>n.intercept(e,{handle:o=>t(o,r)})}const jn=new s.nKC(""),j=new s.nKC(""),nt=new s.nKC("");function Wn(){let t=null;return(n,e)=>{null===t&&(t=((0,s.WQX)(jn,{optional:!0})??[]).reduceRight(Hn,tt));const r=(0,s.WQX)(s.$K3),o=r.add();return t(n,e).pipe((0,$e.j)(()=>r.remove(o)))}}let rt=(()=>{class t extends z{constructor(e,r){super(),this.backend=e,this.injector=r,this.chain=null,this.pendingTasks=(0,s.WQX)(s.$K3)}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(j),...this.injector.get(nt,[])]));this.chain=o.reduceRight((i,a)=>function Gn(t,n,e){return(r,o)=>e.runInContext(()=>n(r,i=>t(i,o)))}(i,a,this.injector),tt)}const r=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe((0,$e.j)(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(K),s.KVO(s.uvJ))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac})}}return t})();const qn=/^\)\]\}',?\n/;let ot=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new s.wOt(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,We.H)(r.\u0275loadImpl()):(0,H.of)(null)).pipe((0,Pn.n)(()=>new Xe.c(i=>{const a=r.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((h,p)=>a.setRequestHeader(h,p.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const h=e.detectContentTypeHeader();null!==h&&a.setRequestHeader("Content-Type",h)}if(e.responseType){const h=e.responseType.toLowerCase();a.responseType="json"!==h?h:"text"}const c=e.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const h=a.statusText||"OK",p=new w(a.getAllResponseHeaders()),k=function zn(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(a)||e.url;return l=new he({headers:p,status:a.status,statusText:h,url:k}),l},m=()=>{let{headers:h,status:p,statusText:k,url:He}=d(),v=null;204!==p&&(v=typeof a.response>"u"?a.responseText:a.response),0===p&&(p=v?200:0);let ue=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof v){const On=v;v=v.replace(qn,"");try{v=""!==v?JSON.parse(v):null}catch(Ge){v=On,ue&&(ue=!1,v={error:Ge,text:v})}}ue?(i.next(new U({body:v,headers:h,status:p,statusText:k,url:He||void 0})),i.complete()):i.error(new Qe({error:v,headers:h,status:p,statusText:k,url:He||void 0}))},g=h=>{const{url:p}=d(),k=new Qe({error:h,status:a.status||0,statusText:a.statusText||"Unknown Error",url:p||void 0});i.error(k)};let y=!1;const L=h=>{y||(i.next(d()),y=!0);let p={type:I.DownloadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),"text"===e.responseType&&a.responseText&&(p.partialText=a.responseText),i.next(p)},x=h=>{let p={type:I.UploadProgress,loaded:h.loaded};h.lengthComputable&&(p.total=h.total),i.next(p)};return a.addEventListener("load",m),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),e.reportProgress&&(a.addEventListener("progress",L),null!==c&&a.upload&&a.upload.addEventListener("progress",x)),a.send(c),i.next({type:I.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",m),a.removeEventListener("timeout",g),e.reportProgress&&(a.removeEventListener("progress",L),null!==c&&a.upload&&a.upload.removeEventListener("progress",x)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(b.N0))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac})}}return t})();const pe=new s.nKC("XSRF_ENABLED"),it=new s.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),at=new s.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class lt{}let Yn=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,b._b)(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(b.qQ),s.KVO(s.Agw),s.KVO(it))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac})}}return t})();function Zn(t,n){const e=t.url.toLowerCase();if(!(0,s.WQX)(pe)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return n(t);const r=(0,s.WQX)(lt).getToken(),o=(0,s.WQX)(at);return null!=r&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,r)})),n(t)}var A=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(A||{});function P(t,n){return{\u0275kind:t,\u0275providers:n}}function er(...t){const n=[Ye,ot,rt,{provide:z,useExisting:rt},{provide:K,useExisting:ot},{provide:j,useValue:Zn,multi:!0},{provide:pe,useValue:!0},{provide:lt,useClass:Yn}];for(const e of t)n.push(...e.\u0275providers);return(0,s.EmA)(n)}const ct=new s.nKC("LEGACY_INTERCEPTOR_FN");let nr=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=s.$C({type:t})}static{this.\u0275inj=s.G2t({providers:[er(P(A.LegacyInterceptors,[{provide:ct,useFactory:Wn},{provide:j,useExisting:ct,multi:!0}]))]})}}return t})();var lr=f(3073),cr=f(8750),ur=f(3794),dr=f(4360),hr=f(6450),fr=f(8496);let ut=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||t)(s.rXU(s.sFG),s.rXU(s.aKT))}}static{this.\u0275dir=s.FsC({type:t})}}return t})(),N=(()=>{class t extends ut{static{this.\u0275fac=function(){let e;return function(o){return(e||(e=s.xGo(t)))(o||t)}}()}static{this.\u0275dir=s.FsC({type:t,features:[s.Vt3]})}}return t})();const M=new s.nKC("NgValueAccessor"),mr={provide:M,useExisting:(0,s.Rfq)(()=>Z),multi:!0},_r=new s.nKC("CompositionEventMode");let Z=(()=>{class t extends ut{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yr(){const t=(0,b.QT)()?(0,b.QT)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||t)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(_r,8))}}static{this.\u0275dir=s.FsC({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&s.bIt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[s.Jv_([mr]),s.Vt3]})}}return t})();const _=new s.nKC("NgValidators"),F=new s.nKC("NgAsyncValidators");function bt(t){return null!=t}function Vt(t){return(0,s.jNT)(t)?(0,We.H)(t):t}function wt(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Mt(t,n){return n.map(e=>e(t))}function Et(t){return t.map(n=>function vr(t){return!t.validate}(n)?n:e=>n.validate(e))}function ge(t){return null!=t?function At(t){if(!t)return null;const n=t.filter(bt);return 0==n.length?null:function(e){return wt(Mt(e,n))}}(Et(t)):null}function me(t){return null!=t?function Dt(t){if(!t)return null;const n=t.filter(bt);return 0==n.length?null:function(e){return function pr(...t){const n=(0,ur.ms)(t),{args:e,keys:r}=(0,lr.D)(t),o=new Xe.c(i=>{const{length:a}=e;if(!a)return void i.complete();const c=new Array(a);let l=a,d=a;for(let m=0;m<a;m++){let g=!1;(0,cr.Tg)(e[m]).subscribe((0,dr._)(i,y=>{g||(g=!0,d--),c[m]=y},()=>l--,void 0,()=>{(!l||!g)&&(d||i.next(r?(0,fr.e)(r,c):c),i.complete())}))}});return n?o.pipe((0,hr.I)(n)):o}(Mt(e,n).map(Vt)).pipe((0,V.T)(wt))}}(Et(t)):null}function Ft(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function Ot(t){return t._rawValidators}function St(t){return t._rawAsyncValidators}function ye(t){return t?Array.isArray(t)?t:[t]:[]}function te(t,n){return Array.isArray(t)?t.includes(n):t===n}function xt(t,n){const e=ye(n);return ye(t).forEach(o=>{te(e,o)||e.push(o)}),e}function Pt(t,n){return ye(n).filter(e=>!te(t,e))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ge(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=me(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class O extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tt{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rt=(()=>{class t extends Tt{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||t)(s.rXU(O,2))}}static{this.\u0275dir=s.FsC({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&s.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[s.Vt3]})}}return t})();const W="VALID",re="INVALID",B="PENDING",X="DISABLED";function se(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ve{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===W}get invalid(){return this.status===re}get pending(){return this.status==B}get disabled(){return this.status===X}get enabled(){return this.status!==X}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(xt(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(xt(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Pt(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Pt(n,this._rawAsyncValidators))}hasValidator(n){return te(this._rawValidators,n)}hasAsyncValidator(n){return te(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=B,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=X,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=W,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===W||this.status===B)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?X:W}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=B,this._hasOwnPendingAsyncValidator=!0;const e=Vt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?X:this.errors?re:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(B)?B:this._anyControlsHaveStatus(re)?re:W}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){se(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Er(t){return Array.isArray(t)?ge(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Ar(t){return Array.isArray(t)?me(t):t||null}(this._rawAsyncValidators)}}const T=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>$}),$="always";function J(t,n,e=$){(function Me(t,n){const e=Ot(t);null!==n.validator?t.setValidators(Ft(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=St(t);null!==n.asyncValidator?t.setAsyncValidators(Ft(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();ae(n._rawValidators,o),ae(n._rawAsyncValidators,o)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function Or(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Bt(t,n)})}(t,n),function xr(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Sr(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Bt(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function Fr(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function ie(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),function le(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=Ot(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(a=>a!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=St(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(a=>a!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return ae(n._rawValidators,r),ae(n._rawAsyncValidators,r),e}(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ae(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Bt(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Gt(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function jt(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Oe=class extends Ve{constructor(n=null,e,r){super(function ve(t){return(se(t)?t.validators:t)||null}(e),function be(t,n){return(se(n)?n.asyncValidators:t)||null}(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),se(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=jt(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Gt(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Gt(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){jt(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let zt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=s.$C({type:t})}static{this.\u0275inj=s.G2t({})}}return t})();const Se=new s.nKC("NgModelWithFormControlWarning"),Xr={provide:O,useExisting:(0,s.Rfq)(()=>xe)};let xe=(()=>{class t extends O{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,r,o,i,a){super(),this._ngModelWarningConfig=i,this.callSetDisabledState=a,this.update=new s.bkB,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(r),this.valueAccessor=function De(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===Z?e=i:function Tr(t){return Object.getPrototypeOf(t.constructor)===N}(i)?r=i:o=i}),o||r||e||null}(0,o)}ngOnChanges(e){if(this._isControlChanged(e)){const r=e.form.previousValue;r&&ie(r,this,!1),J(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Ae(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)})(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ie(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static{this.\u0275fac=function(r){return new(r||t)(s.rXU(_,10),s.rXU(F,10),s.rXU(M,10),s.rXU(Se,8),s.rXU(T,8))}}static{this.\u0275dir=s.FsC({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s.Jv_([Xr]),s.Vt3,s.OA$]})}}return t})(),hn=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=s.$C({type:t})}static{this.\u0275inj=s.G2t({imports:[zt]})}}return t})(),ds=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:T,useValue:e.callSetDisabledState??$}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=s.$C({type:t})}static{this.\u0275inj=s.G2t({imports:[hn]})}}return t})(),hs=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Se,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:T,useValue:e.callSetDisabledState??$}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=s.$C({type:t})}static{this.\u0275inj=s.G2t({imports:[hn]})}}return t})();var S=f(6157),u=f(9640),fn=f(5312);const pn="https://api.openweathermap.org/data/2.5",fs={day:{light:{rain:"rainy-1.svg",snow:"snowy-1.svg",cloudy:"cloudy-day-1.svg",clear:"day.svg"},moderate:{rain:"rainy-3.svg",snow:"snowy-3.svg",cloudy:"cloudy-day-2.svg",clear:"day.svg"},heavy:{rain:"rainy-5.svg",snow:"snowy-5.svg",cloudy:"cloudy-day-3.svg",clear:"day.svg"}},night:{light:{rain:"rainy-1.svg",snow:"snowy-1.svg",cloudy:"cloudy-night-1.svg",clear:"night.svg"},moderate:{rain:"rainy-3.svg",snow:"snowy-3.svg",cloudy:"cloudy-night-2.svg",clear:"night.svg"},heavy:{rain:"rainy-5.svg",snow:"snowy-5.svg",cloudy:"cloudy-night-3.svg",clear:"night.svg"}}},gn=t=>{const{sunrise:n,sunset:e}=t.sys,r=t.dt,o=r>=n&&r<e,i=t.weather[0].main.toLowerCase();let a,c=0;i.includes("rain")||i.includes("drizzle")?(a="rain",c=t.rain["1h"]):i.includes("snow")?(a="snow",c=t.snow["1h"]):i.includes("cloud")?(a="cloudy",c=Math.floor(t.clouds.all/10)):a="clear";let l="light";return l=c<2?"light":c<5?"moderate":"heavy",`https://www.amcharts.com/wp-content/themes/amcharts4/css/img/icons/weather/animated/${fs[o?"day":"night"][l][a]}`};let mn=(()=>{class t{constructor(e){this.http=e}getCurrentWeatherByCity(e){const r=(t=>`${pn}/weather?q=${t}&appid=${fn.c.weatherApiKey}&units=metric`)(e);return this.http.get(r).pipe((0,V.T)(o=>({cityName:o.name,temperature:Math.round(o.main.temp),weatherStatus:o.weather[0].main,windSpeed:o.wind.speed,windDeg:o.wind.deg,pressure:o.main.pressure,icon:gn(o)})))}getCityForecast(e){const r=(t=>`${pn}/forecast?q=${t}&appid=${fn.c.weatherApiKey}&units=metric`)(e);return this.http.get(r).pipe((0,V.T)(o=>{const a={};o.list.forEach(l=>{const d=l.dt_txt.split(" ")[0];a[d]||(a[d]=[]),a[d].push(l)});const c=Object.keys(a).slice(-5).map(l=>{const d=a[l];let m=d[0],y=Number.MAX_VALUE;d.forEach(x=>{const h=parseInt(x.dt_txt.split(" ")[1].split(":")[0],10),p=Math.abs(h-12);p<y&&(y=p,m=x)});const L=new Date(1e3*m.dt);return{date:L.getDate(),day:L.toLocaleDateString(void 0,{weekday:"short"}),temperature:Math.round(m.main.temp),icon:gn(m)}});return c.sort((l,d)=>l.date-d.date),{cityName:o.city.name,forecast:c}}))}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(Ye))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac})}}return t})();const yn=(0,u.VP)("[Weather] Validate City",(0,u.xk)()),_n=(0,u.VP)("[Weather] Validate City Success",(0,u.xk)()),Cn=(0,u.VP)("[Weather] Validate City Failure",(0,u.xk)()),vn=(0,u.VP)("[Weather] Refresh City Weather",(0,u.xk)()),bn=(0,u.VP)("[Weather] Refresh City Weather Success",(0,u.xk)()),Vn=(0,u.VP)("[Weather] Refresh City Weather Failure",(0,u.xk)()),Ue=(0,u.VP)("[Weather] Load City Forecast",(0,u.xk)()),wn=(0,u.VP)("[Weather] Load City Forecast Success",(0,u.xk)()),Mn=(0,u.VP)("[Weather] Load City Forecast Failure",(0,u.xk)()),En=(0,u.VP)("[Weather] Remove Location",(0,u.xk)()),An=(0,u.VP)("[Weather] Clear Locations"),Dn=(0,u.VP)("[Weather] Select City Weather",(0,u.xk)());var Be=f(1397),Le=f(9437);let ms=(()=>{class t{constructor(e,r){this.actions$=e,this.weatherService=r,this.validateCity$=(0,S.EH)(()=>this.actions$.pipe((0,S.gp)(yn),(0,Be.Z)(({cityName:o})=>this.weatherService.getCurrentWeatherByCity(o).pipe((0,V.T)(i=>_n({cityWeather:i})),(0,Le.W)(i=>(0,H.of)(Cn({error:404===i.status?"Invalid city name":"Unexpected error, please try again later"}))))))),this.refreshCity$=(0,S.EH)(()=>this.actions$.pipe((0,S.gp)(vn),(0,Be.Z)(({cityName:o})=>this.weatherService.getCurrentWeatherByCity(o).pipe((0,V.T)(i=>bn({cityWeather:i})),(0,Le.W)(i=>(0,H.of)(Vn({error:i.message||"Refresh failed"}))))))),this.loadForecast$=(0,S.EH)(()=>this.actions$.pipe((0,S.gp)(Ue),(0,Be.Z)(({cityName:o})=>this.weatherService.getCityForecast(o).pipe((0,V.T)(i=>wn({forecast:i})),(0,Le.W)(i=>(0,H.of)(Mn({error:i.message||"Forecast load failed"})))))))}static{this.\u0275fac=function(r){return new(r||t)(s.KVO(S.En),s.KVO(mn))}}static{this.\u0275prov=s.jDH({token:t,factory:t.\u0275fac})}}return t})();const _s=(0,u.vy)({recentLocations:[],selectedCityWeather:null,selectedForecast:null,error:null,loading:!1},(0,u.on)(_n,(t,{cityWeather:n})=>{const e=t.recentLocations.filter(r=>r.cityName.toLowerCase()!==n.cityName.toLowerCase());return e.unshift(n),e.length>8&&e.pop(),{...t,recentLocations:e,error:null}}),(0,u.on)(Cn,(t,{error:n})=>({...t,error:n})),(0,u.on)(bn,(t,{cityWeather:n})=>{const e=t.recentLocations.map(o=>o.cityName.toLowerCase()===n.cityName.toLowerCase()?n:o),r=t.selectedCityWeather&&t.selectedCityWeather.cityName.toLowerCase()===n.cityName.toLowerCase()?n:t.selectedCityWeather;return{...t,recentLocations:e,selectedCityWeather:r,error:null}}),(0,u.on)(Dn,(t,{cityWeather:n})=>({...t,selectedCityWeather:n})),(0,u.on)(wn,(t,{forecast:n})=>({...t,selectedForecast:n,error:null})),(0,u.on)(En,(t,{cityName:n})=>({...t,recentLocations:t.recentLocations.filter(e=>e.cityName.toLowerCase()!==n.toLowerCase())})),(0,u.on)(An,t=>({...t,recentLocations:[],selectedCityWeather:null,selectedForecast:null})),(0,u.on)(Vn,(t,{error:n})=>({...t,error:n})),(0,u.on)(Mn,(t,{error:n})=>({...t,error:n})));var Fn=f(4008);const ce=(0,u.UX)("weather"),Cs=(0,u.Mz)(ce,t=>t.recentLocations),vs=(0,u.Mz)(ce,t=>t.selectedCityWeather),bs=(0,u.Mz)(ce,t=>t.selectedForecast),Vs=(0,u.Mz)(ce,t=>t.error);function ws(t,n){if(1&t&&s.nrm(0,"img",8),2&t){const e=s.XpG();s.Y8G("src",e.cityWeather.icon,s.B4B)}}let Ms=(()=>{class t{constructor(){this.refresh=new s.bkB,this.remove=new s.bkB,this.selectCity=new s.bkB}onRefresh(){this.refresh.emit(this.cityWeather.cityName)}onRemove(){this.remove.emit(this.cityWeather.cityName)}onSelect(){this.selectCity.emit(this.cityWeather)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=s.VBU({type:t,selectors:[["app-weather-location-line"]],inputs:{cityWeather:"cityWeather"},outputs:{refresh:"refresh",remove:"remove",selectCity:"selectCity"},decls:11,vars:4,consts:[[1,"city-line","d-flex","justify-content-between","align-items-center"],[2,"cursor","pointer",3,"click"],["alt","icon",3,"src",4,"ngIf"],[1,"icon-buttons"],[1,"icon","refresh",3,"click"],[1,"fas","fa-sync-alt"],[1,"icon","delete",3,"click"],[1,"fas","fa-xmark"],["alt","icon",3,"src"]],template:function(r,o){1&r&&(s.j41(0,"div",0)(1,"div",1),s.bIt("click",function(){return o.onSelect()}),s.j41(2,"strong"),s.EFF(3),s.k0s(),s.EFF(4),s.DNE(5,ws,1,1,"img",2),s.k0s(),s.j41(6,"div",3)(7,"span",4),s.bIt("click",function(){return o.onRefresh()}),s.nrm(8,"i",5),s.k0s(),s.j41(9,"span",6),s.bIt("click",function(){return o.onRemove()}),s.nrm(10,"i",7),s.k0s()()()),2&r&&(s.R7$(3),s.JRh(o.cityWeather.cityName),s.R7$(1),s.Lme(" - ",o.cityWeather.temperature,"\xb0C, ",o.cityWeather.weatherStatus," "),s.R7$(1),s.Y8G("ngIf",o.cityWeather.icon))},dependencies:[b.bT],styles:[".city-line[_ngcontent-%COMP%]{padding:5px;border-bottom:1px solid #ddd}.city-line[_ngcontent-%COMP%]   .icon-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.city-line[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{cursor:pointer;font-size:1.2rem;color:#007bff}.city-line[_ngcontent-%COMP%]   .icon.refresh[_ngcontent-%COMP%]:hover{color:#28a745}.city-line[_ngcontent-%COMP%]   .icon.delete[_ngcontent-%COMP%]{scale:1.25}.city-line[_ngcontent-%COMP%]   .icon.delete[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#dc3545}"]})}}return t})();function Es(t,n){if(1&t&&(s.j41(0,"div",16),s.EFF(1),s.k0s()),2&t){const e=n.ngIf;s.R7$(1),s.SpI(" ",e," ")}}function As(t,n){if(1&t){const e=s.RV6();s.j41(0,"li",17)(1,"app-weather-location-line",18),s.bIt("refresh",function(o){s.eBV(e);const i=s.XpG();return s.Njj(i.refreshCity(o))})("remove",function(o){s.eBV(e);const i=s.XpG();return s.Njj(i.removeCity(o))})("selectCity",function(o){s.eBV(e);const i=s.XpG();return s.Njj(i.selectCity(o))}),s.k0s()()}if(2&t){const e=n.$implicit;s.R7$(1),s.Y8G("cityWeather",e)}}function Ds(t,n){if(1&t&&(s.j41(0,"div",34)(1,"span",35),s.EFF(2),s.nrm(3,"br"),s.EFF(4),s.k0s(),s.j41(5,"div",36),s.nrm(6,"img",37),s.k0s(),s.j41(7,"div",38),s.EFF(8),s.k0s()()),2&t){const e=n.$implicit;s.R7$(2),s.SpI("",e.date," "),s.R7$(2),s.SpI(" ",e.day,""),s.R7$(2),s.Mz_("alt","",e.day," icon"),s.Y8G("src",e.icon,s.B4B),s.R7$(2),s.SpI("",e.temperature,"\xb0C")}}function Fs(t,n){if(1&t&&(s.j41(0,"div",32),s.DNE(1,Ds,9,5,"div",33),s.k0s()),2&t){const e=n.ngIf;s.R7$(1),s.Y8G("ngForOf",e.forecast)}}function Os(t,n){if(1&t){const e=s.RV6();s.qex(0),s.j41(1,"div",19)(2,"div",20),s.EFF(3),s.k0s(),s.j41(4,"div",21),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.refreshForecast())}),s.nrm(5,"i",22),s.k0s()(),s.j41(6,"div",23)(7,"div",24),s.nrm(8,"img",25),s.k0s(),s.j41(9,"div",26)(10,"div",27),s.EFF(11),s.k0s(),s.j41(12,"div",28),s.EFF(13),s.nI1(14,"titlecase"),s.k0s(),s.j41(15,"div",29),s.EFF(16),s.k0s(),s.j41(17,"div",30),s.EFF(18),s.k0s()()(),s.DNE(19,Fs,2,1,"div",31),s.nI1(20,"async"),s.bVm()}if(2&t){const e=n.ngIf,r=s.XpG();s.R7$(3),s.JRh(e.cityName),s.R7$(5),s.Y8G("src",e.icon,s.B4B),s.R7$(3),s.SpI(" ",e.temperature,"\xb0C "),s.R7$(2),s.SpI(" ",s.bMT(14,8,e.weatherStatus)," "),s.R7$(3),s.Lme(" Wind ",e.windSpeed,"ms ",e.windDeg," deg "),s.R7$(2),s.SpI(" Pressure ",e.pressure," "),s.R7$(1),s.Y8G("ngIf",s.bMT(20,10,r.selectedForecast$))}}function Ss(t,n){1&t&&(s.j41(0,"div",39)(1,"p"),s.nrm(2,"i",40),s.EFF(3," Select a city from the list to view detailed forecast. "),s.k0s(),s.j41(4,"p"),s.nrm(5,"i",41),s.EFF(6," Or add a new city using the input on the left. "),s.k0s()())}const xs=[{path:"",component:(()=>{class t{constructor(e){this.store=e,this.cityInput=new Oe(""),this.recentLocations$=this.store.select(Cs),this.currentWeather$=this.store.select(vs),this.selectedForecast$=this.store.select(bs),this.error$=this.store.select(Vs)}ngOnInit(){}addCity(){const e=this.cityInput.value?.trim();e&&(this.store.dispatch(yn({cityName:e})),this.cityInput.reset())}refreshCity(e){this.store.dispatch(vn({cityName:e}))}removeCity(e){this.store.dispatch(En({cityName:e}))}clearCities(){this.store.dispatch(An())}selectCity(e){this.store.dispatch(Dn({cityWeather:e})),this.store.dispatch(Ue({cityName:e.cityName}))}refreshForecast(){this.currentWeather$.subscribe(e=>{e&&(this.refreshCity(e.cityName),this.store.dispatch(Ue({cityName:e.cityName})))}).unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)(s.rXU(u.il))}}static{this.\u0275cmp=s.VBU({type:t,selectors:[["app-weather"]],decls:22,vars:11,consts:[[1,"weather-container"],[1,"left-panel"],[1,"weather-locations"],[1,"input-group"],["type","text","placeholder","Type city name",1,"form-control",3,"formControl","keydown.enter"],[1,"add-icon",3,"click"],[1,"fas","fa-plus"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"mt-3"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"clear-section"],[1,"btn","btn-danger",3,"click"],[1,"right-panel"],[4,"ngIf","ngIfElse"],["suggestionTemplate",""],[1,"alert","alert-danger","mt-2"],[1,"list-group-item"],[3,"cityWeather","refresh","remove","selectCity"],[1,"rp-header"],[1,"city-name"],[1,"refresh-icon",3,"click"],[1,"fa","fa-sync-alt"],[1,"rp-main"],[1,"weather-icon-container"],["alt","Weather Icon",1,"big-weather-icon",3,"src"],[1,"weather-details"],[1,"weather-param","temperature"],[1,"weather-param","main"],[1,"weather-param","wind"],[1,"weather-param","pressure"],["class","rp-forecast",4,"ngIf"],[1,"rp-forecast"],["class","forecast-day",4,"ngFor","ngForOf"],[1,"forecast-day"],[1,"fd-date"],[1,"fd-icon"],[3,"src","alt"],[1,"fd-temp"],[1,"suggestions"],[1,"fas","fa-info-circle"],[1,"fas","fa-bolt"]],template:function(r,o){if(1&r&&(s.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4),s.bIt("keydown.enter",function(){return o.addCity()}),s.k0s(),s.j41(5,"span",5),s.bIt("click",function(){return o.addCity()}),s.nrm(6,"i",6),s.k0s()(),s.DNE(7,Es,2,1,"div",7),s.nI1(8,"async"),s.j41(9,"h5",8),s.EFF(10,"Recent Locations"),s.k0s(),s.j41(11,"ul",9),s.DNE(12,As,2,1,"li",10),s.nI1(13,"async"),s.k0s()(),s.j41(14,"div",11)(15,"button",12),s.bIt("click",function(){return o.clearCities()}),s.EFF(16,"Clear"),s.k0s()()(),s.j41(17,"div",13),s.DNE(18,Os,21,12,"ng-container",14),s.nI1(19,"async"),s.DNE(20,Ss,7,0,"ng-template",null,15,s.C5r),s.k0s()()),2&r){const i=s.sdS(21);s.R7$(4),s.Y8G("formControl",o.cityInput),s.R7$(3),s.Y8G("ngIf",s.bMT(8,5,o.error$)),s.R7$(5),s.Y8G("ngForOf",s.bMT(13,7,o.recentLocations$)),s.R7$(6),s.Y8G("ngIf",s.bMT(19,9,o.currentWeather$))("ngIfElse",i)}},dependencies:[b.Sq,b.bT,Z,Rt,xe,Ms,b.Jj,b.PV],styles:[".weather-container[_ngcontent-%COMP%]{display:flex;gap:20px;padding:20px;min-height:400px}.left-panel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between;padding:10px;background-color:#fff;border:1px solid #ddd;border-radius:4px}.left-panel[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.left-panel[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}.left-panel[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]{cursor:pointer;font-size:1.8rem;color:#007bff;transition:transform .2s ease,color .2s ease}.left-panel[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .add-icon[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#0056b3}.left-panel[_ngcontent-%COMP%]   .clear-section[_ngcontent-%COMP%]{text-align:right}.right-panel[_ngcontent-%COMP%]{flex:2;border-left:3px solid #dee2e6;padding:20px;background-color:#f8f9fa;border:1px solid #ddd;border-radius:4px;display:flex;flex-direction:column}.right-panel[_ngcontent-%COMP%]   .rp-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.right-panel[_ngcontent-%COMP%]   .rp-header[_ngcontent-%COMP%]   .city-name[_ngcontent-%COMP%]{margin-left:10px;font-size:1.5rem;font-weight:700}.right-panel[_ngcontent-%COMP%]   .rp-header[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]{margin-right:10px;font-size:1.5rem;cursor:pointer;transition:color .2s ease}.right-panel[_ngcontent-%COMP%]   .rp-header[_ngcontent-%COMP%]   .refresh-icon[_ngcontent-%COMP%]:hover{color:#007bff}.right-panel[_ngcontent-%COMP%]   .rp-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.right-panel[_ngcontent-%COMP%]   .rp-main[_ngcontent-%COMP%]   .weather-icon-container[_ngcontent-%COMP%]{flex:0 0 30%}.right-panel[_ngcontent-%COMP%]   .rp-main[_ngcontent-%COMP%]   .weather-icon-container[_ngcontent-%COMP%]   img.big-weather-icon[_ngcontent-%COMP%]{width:100%;height:auto}.right-panel[_ngcontent-%COMP%]   .rp-main[_ngcontent-%COMP%]   .weather-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;font-size:1.2rem;text-transform:capitalize}.right-panel[_ngcontent-%COMP%]   .rp-forecast[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.right-panel[_ngcontent-%COMP%]   .rp-forecast[_ngcontent-%COMP%]   .forecast-day[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:5px}.right-panel[_ngcontent-%COMP%]   .rp-forecast[_ngcontent-%COMP%]   .forecast-day[_ngcontent-%COMP%]   .fd-date[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-align:center}.right-panel[_ngcontent-%COMP%]   .rp-forecast[_ngcontent-%COMP%]   .forecast-day[_ngcontent-%COMP%]   .fd-icon[_ngcontent-%COMP%]{width:40px;height:40px}.right-panel[_ngcontent-%COMP%]   .rp-forecast[_ngcontent-%COMP%]   .forecast-day[_ngcontent-%COMP%]   .fd-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.right-panel[_ngcontent-%COMP%]   .rp-forecast[_ngcontent-%COMP%]   .forecast-day[_ngcontent-%COMP%]   .fd-temp[_ngcontent-%COMP%]{font-size:1rem}.right-panel[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]{padding:20px;font-size:1.1rem;color:#666}.right-panel[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:10px}.right-panel[_ngcontent-%COMP%]   .suggestions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;color:#007bff}"]})}}return t})()}];let Ps=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=s.$C({type:t})}static{this.\u0275inj=s.G2t({imports:[Fn.iI.forChild(xs),Fn.iI]})}}return t})(),Ns=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=s.$C({type:t})}static{this.\u0275inj=s.G2t({providers:[mn],imports:[b.MD,nr,Ps,ds,hs,u.md.forFeature("weather",_s),S.Vm.forFeature([ms])]})}}return t})()}}]);